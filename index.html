<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تحدي حسين: الفوز أو الخسارة</title>
    <style>
        :root { --neon-blue: #00f2ff; --neon-red: #ff0044; --neon-purple: #bc13fe; }
        body { margin: 0; background: #050505; color: white; font-family: 'Arial', sans-serif; overflow: hidden; touch-action: manipulation; }
        #game-ui { position: fixed; top: 0; width: 100%; display: flex; justify-content: space-around; padding: 15px; background: rgba(255,255,255,0.05); z-index: 10; font-size: 1.2rem; border-bottom: 1px solid var(--neon-blue); }
        .target { position: absolute; width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer; transition: transform 0.1s; }
        .hussain { background: linear-gradient(135deg, var(--neon-blue), var(--neon-purple)); box-shadow: 0 0 20px var(--neon-blue); }
        .enemy { background: var(--neon-red); box-shadow: 0 0 20px var(--neon-red); }
        #msg-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 100; }
        .btn { padding: 15px 40px; font-size: 1.5rem; background: var(--neon-blue); border: none; color: black; border-radius: 50px; cursor: pointer; margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>

    <div id="game-ui">
        <div>النقاط: <span id="score">0</span> / 15</div>
        <div>الوقت: <span id="timer">20</span>s</div>
    </div>

    <div id="msg-screen">
        <h1 id="status-title"></h1>
        <p id="status-msg"></p>
        <button class="btn" onclick="resetGame()">حاول مرة أخرى</button>
    </div>

    <div id="area" style="width:100vw; height:100vh; position:relative;"></div>

    <script>
        let score = 0;
        let timeLeft = 20;
        let gameTimer;
        const area = document.getElementById('area');

        function startGame() {
            score = 0;
            timeLeft = 20;
            document.getElementById('score').innerText = score;
            document.getElementById('timer').innerText = timeLeft;
            document.getElementById('msg-screen').style.display = 'none';
            
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = timeLeft;
                if(timeLeft <= 0) endGame(false, "انتهى الوقت! حاول أن تكون أسرع.");
            }, 1000);
            
            spawnStuff();
        }

        function spawnStuff() {
            area.innerHTML = '';
            if (timeLeft <= 0) return;

            // ظهور "حسين" (هدف الفوز)
            createElem('hussain', 'حسين', () => {
                score++;
                document.getElementById('score').innerText = score;
                if(score >= 15) endGame(true, "كفو! فزت في تحدي حسين.");
                else spawnStuff();
            });

            // ظهور "العدو" (سبب الخسارة) ابتداءً من السكور 5
            if(score > 3) {
                createElem('enemy', 'خطر', () => {
                    endGame(false, "لمست الخطر! خسرت.");
                });
            }
        }

        function createElem(type, text, action) {
            const el = document.createElement('div');
            el.className = 'target ' + type;
            el.innerText = text;
            const x = Math.random() * (window.innerWidth - 80);
            const y = Math.random() * (window.innerHeight - 150) + 100;
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            el.onclick = action;
            area.appendChild(el);
        }

        function endGame(isWin, msg) {
            clearInterval(gameTimer);
            const screen = document.getElementById('msg-screen');
            screen.style.display = 'flex';
            document.getElementById('status-title').innerText = isWin ? "مبروك!" : "خسرت!";
            document.getElementById('status-title').style.color = isWin ? "#00f2ff" : "#ff0044";
            document.getElementById('status-msg').innerText = msg;
        }

        function resetGame() { startGame(); }
        
        // ابدأ اللعبة فوراً
        startGame();
    </script>
</body>
</html>
                
                screen.removeChild(hussain);
                setTimeout(createHussain, 100); 
            };

            screen.appendChild(hussain);
        }

        function showRipple(x, y) {
            const r = document.createElement('div');
            r.className = 'ripple';
            r.style.left = x + 'px';
            r.style.top = y + 'px';
            document.body.appendChild(r);
            setTimeout(() => r.remove(), 600);
        }
    </script>
</body>
</html>

    <script>
        function triggerPortal() {
            const portal = document.querySelector('.p-portal');
            // تأثير حركي للبوابة
            portal.style.transform = 'translateX(-50%) scale(1.2)';
            setTimeout(() => portal.style.transform = 'translateX(-50%) scale(1)', 200);
            
            // إضافة اهتزاز بسيط (إذا كان يدعمه الجهاز)
            if (window.navigator.vibrate) window.navigator.vibrate(50);
        }

        function simulateNotification() {
            const ripple = document.getElementById('ripple');
            const notif = document.getElementById('notification');
            const sound = document.getElementById('notifSound');

            // 1. تشغيل الصوت الهادئ
            sound.play();

            // 2. تفعيل النبضة النيونية في الشاشة
            ripple.style.animation = 'none';
            void ripple.offsetWidth; // إعادة تشغيل الأنيميشن
            ripple.style.animation = 'ripple-animation 1s ease-out';

            // 3. إظهار شريط الإشعار
            notif.style.display = 'block';
            document.getElementById('notif-text').innerText = "شخص ما معجب ببروفايلك في عالم Pulse!";
            
            setTimeout(() => { notif.style.display = 'none'; }, 5000);
        }
    </script>
</body>
</html>
                portal.style.boxShadow = '0 0 25px var(--penta-purple)';
            } else {
                portal.innerText = 'P';
                portal.style.boxShadow = '0 0 25px var(--penta-cyan)';
            }
        }
    </script>
</body>
</html>
