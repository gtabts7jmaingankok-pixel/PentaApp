<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PENTA ROYAL</title>
    <style>
        :root { --gold: #ffd700; --royal-blue: #1a237e; --neon-cyan: #00f2ff; }
        body { margin: 0; background: #0f0c29; color: white; font-family: 'Segoe UI', Tahoma, sans-serif; overflow: hidden; }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Ù…Ø«Ù„ Ø±ÙˆÙŠØ§Ù„ Ù…Ø§ØªØ´) */
        #splash { position: fixed; inset: 0; background: linear-gradient(to bottom, #1a237e, #0f0c29); z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .loader { width: 200px; height: 10px; background: rgba(255,255,255,0.1); border-radius: 5px; margin-top: 20px; overflow: hidden; }
        .progress { width: 0%; height: 100%; background: var(--gold); transition: 2s linear; }

        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù„Ø¹Ø¨ */
        #game-ui { display: none; height: 100vh; flex-direction: column; }
        .header { height: 80px; background: rgba(0,0,0,0.4); display: flex; justify-content: space-around; align-items: center; border-bottom: 3px solid var(--gold); }
        .stat-card { background: rgba(255,255,255,0.1); padding: 5px 15px; border-radius: 10px; text-align: center; }
        
        #grid { 
            display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; 
            padding: 15px; margin: auto; width: 90vw; height: 90vw; max-width: 400px; 
            background: rgba(255,255,255,0.05); border-radius: 20px; box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }
        .gem { 
            aspect-ratio: 1; border-radius: 12px; display: flex; align-items: center; 
            justify-content: center; font-size: 1.8rem; cursor: pointer; background: rgba(255,255,255,0.03);
            transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .gem:active { transform: scale(0.8); }
        .selected { outline: 3px solid var(--gold); box-shadow: 0 0 20px var(--gold); z-index: 10; }

        /* Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙÙˆØ² ÙˆØ§Ù„Ø®Ø³Ø§Ø±Ø© */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 500; }
        .overlay h1 { font-size: 3rem; margin: 0; text-shadow: 0 0 20px var(--gold); }
        .btn-retry { margin-top: 20px; padding: 15px 40px; background: var(--gold); border: none; border-radius: 30px; font-weight: bold; font-size: 1.2rem; cursor: pointer; }
    </style>
</head>
<body>

    <div id="splash">
        <h1 style="color: var(--gold); letter-spacing: 5px;">PENTA ROYAL</h1>
        <div class="loader"><div class="progress" id="p-bar"></div></div>
        <p style="margin-top: 10px; opacity: 0.7;">Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„Ù…Ù…Ù„ÙƒØ©...</p>
    </div>

    <div id="game-ui">
        <div class="header">
            <div class="stat-card"><small>Ø§Ù„Ù‡Ø¯Ù</small><br><b style="color: var(--gold);">500</b></div>
            <div class="stat-card"><small>Ø§Ù„Ù†Ù‚Ø§Ø·</small><br><b id="score">0</b></div>
            <div class="stat-card"><small>Ø§Ù„Ø­Ø±ÙƒØ§Øª</small><br><b id="moves" style="color: var(--neon-cyan);">20</b></div>
        </div>
        <div id="grid"></div>
    </div>

    <div id="result-screen" class="overlay">
        <h1 id="result-title">ÙÙˆØ² Ù…Ù„ÙƒÙŠ!</h1>
        <p id="result-msg"></p>
        <button class="btn-retry" onclick="location.reload()">Ø§Ù„Ø¹Ø¨ Ù…Ø¬Ø¯Ø¯Ø§Ù‹</button>
    </div>

    <audio id="sound-pop" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>

    <script>
        const gems = ['ğŸ’', 'ğŸ‘‘', 'ğŸ', 'ğŸ›¡ï¸', 'ğŸ’°'];
        let score = 0;
        let moves = 20;
        let selected = null;

        // ØªØ£Ø«ÙŠØ± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„
        window.onload = () => {
            document.getElementById('p-bar').style.width = '100%';
            setTimeout(() => {
                document.getElementById('splash').style.display = 'none';
                document.getElementById('game-ui').style.display = 'flex';
                initGrid();
            }, 2500);
        };

        function initGrid() {
            const grid = document.getElementById('grid');
            for (let i = 0; i < 36; i++) {
                const g = document.createElement('div');
                g.className = 'gem';
                g.dataset.id = i;
                g.innerHTML = gems[Math.floor(Math.random() * gems.length)];
                g.onclick = () => handleGemClick(g);
                grid.appendChild(g);
            }
        }

        function handleGemClick(g) {
            if (!selected) {
                selected = g;
                g.classList.add('selected');
            } else {
                let id1 = parseInt(selected.dataset.id);
                let id2 = parseInt(g.dataset.id);
                
                if (Math.abs(id1 - id2) === 1 || Math.abs(id1 - id2) === 6) {
                    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±
                    let tmp = selected.innerHTML;
                    selected.innerHTML = g.innerHTML;
                    g.innerHTML = tmp;
                    
                    moves--;
                    score += 50; // Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„ØªØ¨Ø³ÙŠØ·
                    document.getElementById('moves').innerText = moves;
                    document.getElementById('score').innerText = score;
                    document.getElementById('sound-pop').play();
                    
                    checkStatus();
                }
                selected.classList.remove('selected');
                selected = null;
            }
        }

        function checkStatus() {
            const screen = document.getElementById('result-screen');
            const title = document.getElementById('result-title');
            if (score >= 500) {
                title.innerText = "ÙÙˆØ² Ù…Ù„ÙƒÙŠ! ğŸ‘‘";
                screen.style.display = 'flex';
            } else if (moves <= 0) {
                title.innerText = "Ø®Ø³Ø§Ø±Ø©! ğŸ’”";
                title.style.color = "#ff4444";
                screen.style.display = 'flex';
            }
        }
    </script>
</body>
</html>
            let id1 = parseInt(selectedCell.dataset.id);
            let id2 = parseInt(cell.dataset.id);
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¬ÙˆØ§Ø± (ØªØ¨Ø¯ÙŠÙ„)
            if (isAdjacent(id1, id2)) {
                swap(selectedCell, cell);
                moves--;
                document.getElementById('moves').innerText = moves;
                checkMatches();
            }
            
            selectedCell.classList.remove('selected');
            selectedCell = null;
            checkGameOver();
        }
    }

    function isAdjacent(id1, id2) {
        const diff = Math.abs(id1 - id2);
        return diff === 1 || diff === 6;
    }

    function swap(c1, c2) {
        let temp = c1.innerHTML;
        c1.innerHTML = c2.innerHTML;
        c2.innerHTML = temp;
    }

    function checkMatches() {
        // Ù…Ù†Ø·Ù‚ Ù…Ø¨Ø³Ø· Ù„Ù…Ø³Ø­ Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø§Øª (Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„Ø¹Ø±Ø¶)
        // ÙÙŠ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø§Ù„ÙƒÙˆØ¯ ÙŠÙƒÙˆÙ† Ø£Ø¹Ù‚Ø¯ØŒ Ù„ÙƒÙ† Ù‡Ø°Ø§ Ø³ÙŠØ¹Ø·ÙŠÙƒ Ø§Ù„Ø¥Ø­Ø³Ø§Ø³ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
        score += 50;
        document.getElementById('score').innerText = score;
        document.getElementById('pop').play();
    }

    function checkGameOver() {
        if (score >= 500) showEnd("ÙÙˆØ² Ø³Ø§Ø­Ù‚!", "#00f2ff");
        else if (moves <= 0) showEnd("Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±ÙƒØ§Øª!", "#ff0044");
    }

    function showEnd(title, color) {
        const screen = document.getElementById('msg-screen');
        screen.style.display = 'flex';
        document.getElementById('res-title').innerText = title;
        document.getElementById('res-title').style.color = color;
    }

    createBoard();
</script>
</body>
</html>
                    endGame(false, "Ù„Ù…Ø³Øª Ø§Ù„Ø®Ø·Ø±! Ø®Ø³Ø±Øª.");
                });
            }
        }

        function createElem(type, text, action) {
            const el = document.createElement('div');
            el.className = 'target ' + type;
            el.innerText = text;
            const x = Math.random() * (window.innerWidth - 80);
            const y = Math.random() * (window.innerHeight - 150) + 100;
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            el.onclick = action;
            area.appendChild(el);
        }

        function endGame(isWin, msg) {
            clearInterval(gameTimer);
            const screen = document.getElementById('msg-screen');
            screen.style.display = 'flex';
            document.getElementById('status-title').innerText = isWin ? "Ù…Ø¨Ø±ÙˆÙƒ!" : "Ø®Ø³Ø±Øª!";
            document.getElementById('status-title').style.color = isWin ? "#00f2ff" : "#ff0044";
            document.getElementById('status-msg').innerText = msg;
        }

        function resetGame() { startGame(); }
        
        // Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙˆØ±Ø§Ù‹
        startGame();
    </script>
</body>
</html>
                
                screen.removeChild(hussain);
                setTimeout(createHussain, 100); 
            };

            screen.appendChild(hussain);
        }

        function showRipple(x, y) {
            const r = document.createElement('div');
            r.className = 'ripple';
            r.style.left = x + 'px';
            r.style.top = y + 'px';
            document.body.appendChild(r);
            setTimeout(() => r.remove(), 600);
        }
    </script>
</body>
</html>

    <script>
        function triggerPortal() {
            const portal = document.querySelector('.p-portal');
            // ØªØ£Ø«ÙŠØ± Ø­Ø±ÙƒÙŠ Ù„Ù„Ø¨ÙˆØ§Ø¨Ø©
            portal.style.transform = 'translateX(-50%) scale(1.2)';
            setTimeout(() => portal.style.transform = 'translateX(-50%) scale(1)', 200);
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù‡ØªØ²Ø§Ø² Ø¨Ø³ÙŠØ· (Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ¯Ø¹Ù…Ù‡ Ø§Ù„Ø¬Ù‡Ø§Ø²)
            if (window.navigator.vibrate) window.navigator.vibrate(50);
        }

        function simulateNotification() {
            const ripple = document.getElementById('ripple');
            const notif = document.getElementById('notification');
            const sound = document.getElementById('notifSound');

            // 1. ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø§Ù„Ù‡Ø§Ø¯Ø¦
            sound.play();

            // 2. ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ø¨Ø¶Ø© Ø§Ù„Ù†ÙŠÙˆÙ†ÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø©
            ripple.style.animation = 'none';
            void ripple.offsetWidth; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
            ripple.style.animation = 'ripple-animation 1s ease-out';

            // 3. Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            notif.style.display = 'block';
            document.getElementById('notif-text').innerText = "Ø´Ø®Øµ Ù…Ø§ Ù…Ø¹Ø¬Ø¨ Ø¨Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ ÙÙŠ Ø¹Ø§Ù„Ù… Pulse!";
            
            setTimeout(() => { notif.style.display = 'none'; }, 5000);
        }
    </script>
</body>
</html>
                portal.style.boxShadow = '0 0 25px var(--penta-purple)';
            } else {
                portal.innerText = 'P';
                portal.style.boxShadow = '0 0 25px var(--penta-cyan)';
            }
        }
    </script>
</body>
</html>
